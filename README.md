# TODO

- [x] ~~Зробити респонсів~~
- [x] ~~Додати роутер~~
- [x] ~~Додати фавікон з зубом~~
- [x] ~~Додати спіннер~~
- [x] ~~Запустити MONGO DB~~
- [x] ~~Додав вьюху едіта з данними з бази ( поки рідонлі )~~
- [x] ~~Підключити до едіта вибір дати народження~~
- [x] ~~Переробив дату народження в нормальний формат~~
- [x] ~~Реалізувати пошук з бази~~
- [x] ~~Додати пошук клієнта по номеру телефону~~
- [x] ~~додати сумму всіх клієнтів~~
- [x] ~~додав форму з валідацією, поки тільки реквайред~~
- [x] ~~ховаю кнопку сабміт якщо форма не валідна~~
- [x] ~~Додав інсерт клієнта в базу~~
- [x] ~~Додав модалку про успішне додання клієнту~~
- [x] ~~Пофіксив баг з виборкою з бази при едіті клієнту~~
- [x] ~~На головній сторінці - виборка останні додані клієнти~~
- [x] ~~Звести всі айді в базі до одного типу.~~
- [x] ~~Реалізувати видалення.~~
- [x] ~~Показати нотіфікейшн при видаленні.~~
- [x] ~~День народження~~
- [x] ~~Зробити щоб в базу писався тип дейт~~
- [x] ~~Пофікси валідацію форми для едіт клієнта~~
- [x] ~~Показати нотіфікейшн при едіті.~~
- [x] ~~Редірект після видалення.~~
- [x] ~~Реалізувати едіт~~
- [x] ~~Виборка івентів за минулий місяць+~~
- [x] ~~Подумати як переробити вибірку з бази данних календаря, ( можливо брати тільки майбутні записи )~~
- [x] ~~Зробити одну вьюху для запису клієнту та запису анонімного клієнту~~
- [x] ~~Написав валідатор для імені~~
- [x] ~~Написав валідатор для телефону~~
- [x] ~~Редірект після додавання клієнту~~
- [x] ~~додати кнопку щоб зробити активним едіт клієнту~~
- [x] ~~додав витягування з бази числа людей - у яких сьогодні днюха~~
- [x] ~~Графік з статистикою~~
- [x] ~~Виборка клієнтів у яких сьогодні день народження~~
- [x] ~~Додав реюзабл clients-grid~~
- [x] ~~Видалив Fullcalendar та заінсталив mattlewis92/angular-calendar~~
- [x] ~~Зробив базове налаштування нового календаря, підготовив його до наших данних~~
- [x] ~~Пофіксити баг на вьюшці клієнта - коли не увімкнений режим режагування і спрацьовує клік на календарі~~
- [x] ~~Винести лодінг в окремий компонент~~
- [x] ~~Виніс таймлайн в окремий комонент~~
- [x] ~~Додав вибірку лікарів з бази для планклієнт~~
- [x] ~~Додав вибірку робіт з бази для планклієнт~~
- [x] ~~Додав кнопку відміна при редагуванні клієнту~~
- [x] ~~Додай Відображення Історії по клієнту~~


- [ ]  Пофіксь баг з сортуванням історії клієнту по датам

- [ ]  Забери авто підстановку на всі інпути
- [ ]  Додай Конфьорм на виделення клієнту
- [ ]  Implement Redux


- [ ]  Заміни всі ANY на інтерфейси

- [ ]  Баг з телефоном на вьюшці планклієнт 

- [ ]  Об'єднав форми записати клієнта та записати анонімного клієнта 

- [ ]  створи сервіса та моки для таймлайну 


- [ ] Додай менеджмент лікарів ( додати, видалити )
- [ ] Додай менеджмент джобів ( додати, видалити )


- [ ] Напиши валідатор дня народження для форми 
- [ ] Перепиши виборку з бази статистики getStatistic - щоб не тягнуло всі записи.
- [ ] Зробити щоб кількість клієнтів оновлювалась динамічно
- [ ] Перепеши getBirthdaysCount

- [ ] Заюзати замість модалки ангулар алерт

- [ ] додати селектор часу на вьюху запису клієнта ( можливо пофікситься в новій версії datepicker )
- [ ] Клік на день календаря має робити перехід на цей день
- [ ] Придумати як пофіксити івенти календаря

- [ ] Написати міграційні скрипти з старої бази на нову, пофіксити всі айдішки

- [ ] Винести конфіг календаря в константу
- [ ] додати валідацію полів на плануванні клієнту
- [ ] При виборці подій з бази - джойнити ще імена клієнтів

- [ ] Переробити модалку на нотіфікейшини
- [ ] Додати селект з списком можливих робіт - щоб можна було вибрати
		Терапія
		Ортодонтія
		Хірургія
		Ортопедія
		Дитяча стоматологія
- [ ] перенести можливі роботи з мока в базу

- [ ] забрати заглушку з поверненням сервісом клієнта на вьюху запису NEW 

- [ ] На вьюшці з іменинниками додати кількість років. 

- [ ] ПРИ ДОДАВАННІ НОВИХ ЛІКАРІВ В НОВІЙ БАЗІ - БУДЕ ПРОБЛЕМА ЧЕРЕЗ ObjectId
- [ ] Додай інтерфес календар івента
- [ ] Зробити щоб при додаванні клієнта перемальовувалась кількість юзерів.
- [ ] Пофікси налаштування дейтпікера 
- [ ] Додати конфьорм на видалення 
- [ ] додати в ноді якусь перевірку щоб не залили через пост херові данні в базу 
- [ ] Винеси модалку в окремий компонент 
- [ ] Зміни мову дейтпікера
- [ ] Придумати нову логіку для lastnumber
- [ ] винести дейт пікер в окремий компонент
- [ ] Перепиши convertDate
- [ ] Видали мок клієнти.
- [ ] не виводити одразу клієнтів - виводити тільки тих хто сьогодні записаний
- [ ] попівгодини в записі
- [ ] додати коментарі по клієнту
- [ ] додати редагування коментарів по клієнту
- [ ] додати видалення коментарів по клієнту
- [ ] додати перевірку на апостроф
- [ ] перевірити видалення записаного клієнта
- [ ] початок тижня при записі з понеділка
- [ ] редірект після запису клієнта
- [ ] Поправ CSS в заголовку в календарі(дата)
- [ ] По кліку на клієнта на календарі - переходити на його день
- [ ] Додати відображення наступної дати візита у вьюху клієнта
- [ ] коментар при записі клієнта
- [ ] datetimepicker для інпута запису
- [ ] додати вюху з подіями клієнта( щось на зразок таймлайн );
- [ ] додати запис до певного лікаря
- [ ] додати різні кольори для лікарів
- [ ] Зробити щоб при старті запису клієнта через інпут - ставило куррент час
- [ ] Виділяти майбутнє минуле на таймлайні
- [ ] зробити минувші події в календарі іншим кольором.
- [ ] вивести комент на екран дня по події
- [ ] при перетягуванні запитувати годину
- [ ] голубий рожевий сірий кабінет
- [ ] селект зі списком лікарів
- [ ] Додати селект лікарів при записі
- [ ] Редагування лікаря при редагуванні запису
- [ ] перехід по дабл кліку на подію на вьюшці дня - наїї редагування
- [ ] Ренген фото зубів
- [ ] отіфікейшн з днюхою клієнту
- [ ] нотіфікейшн якщо клієнт був у нас півроку назад
- [ ] мобільна версія нотіфікацій
- [ ] Відображати на головній сторінці записаних на сьогодні замість всіх(має покращити швидкодію)
- [ ] редагування дати народження
- [ ] ЗБЕРЕЖЕННЯ РЕНТГЕНІВ в нормальну папку в корні!!!!!
- [ ] ЗБЕРЕЖЕННЯ РЕНТГЕНІВ в нормальну папку в корні!!!!! для Windows
- [ ] На вікні едіту - щоб кнопка зберегти - ставала активною тільки після змін
- [ ] додати кастомну валідацію всіх полів на едіті
- [ ] додати кастомну валідацію всіх полів на додаванні клієнта
- [ ] пофіксити ліве меню при респонсів
- [ ] Додати фотку клієнта через камеру телефону
- [ ] Підрахунок ціни
- [ ] Нагадування клієнту раз в півроку
- [ ] Додати перевірку правильності введення інпутів
- [ ] Пофіксь баг з датою МОМЕНТ https://github.com/moment/moment/issues/1407
- [ ] додати кнопку назад
- [ ] пофіксити баг що після перетягування в календарі - події не стають нового кольору
- [ ] смс сервіс на майбутнє
- [ ] Зробити модальне вікно календаря в такому ж стилі як всі вікна
- [ ] При канселі переносу дати в календарі - робити рефреш календаря.
- [ ] Language файли

- [ ] оповіщення лікарів при переносі їх клієнта
- [ ] пофіксити баг з поганим відображенням хвилин для вьюхи едіт клієнт,
	вона відрізняється від дати в календарі на пару хвилин
- [ ] Додати пошук по картці

- [ ] редагування подій видаленого клієнту.

- [ ] видалення знімків
- [ ] коммент до знімка(рентгена)
- [ ] зубна формула

- [ ] перевірити базу при 10 000 клієнтах
- [ ] додати десь галочку що клієнту вже нагадали
- [ ] подумати як зробити щоб нотіфікейшни про тих хто давно не був не висіли
- [ ] мобільна версія календаря
- [ ] Реалізувати імпорт/експорт данних
- [ ] хрестик удалити навпроти давно був
- [ ] винести в функцію - форматування дати народження
- [ ] підтвердження редагування
- [ ] дата по півгодини
- [ ] при перенесенні з вьюхи дня - не питати годину
- [ ] додати перевірки на введення інпутів. редагування/додавання і тд
- [ ] Додати видалення рентген знімків
- [ ] Додати звязку - чоловік - дружина - син - донька
- [ ] Додати запис клієнтів без внесення в базу
- [ ] Переписати запроси в базу на ноді
- [ ] Винести Монго базу в Облачний сервіс
- [ ] Додати коннекти клієнтів, брат, сват, мама, тато.
- [ ] Винести спіннер в окремий компонент.
- [ ] Додати спінер на всі вьюхи
- [ ] Переписати ДБ сервіс
- [ ] Ускладни валідатори для форми 
- [ ] Порефакторити компонент з графіком
- [ ] Додай зв*язки клієнтів ( тато, мама )
- [ ] Заміни всі ANY на інтерфейси




# Питання:
- [ ] Лікар по замовчуванню в селекті
- [ ] Додати додавання лікарів
- [ ] Додати редагування та видалення лікарів
- [ ] Подумати чи можна дозволяти редагування історії клієнтів з минулого(записів в календарі)
- [ ] Додати у прогу статистику
- [ ] подумати куди виводити ТІП, поки опасіті 0
- [ ] логінка юзерів
- [ ] групи юзерів (адмін/неадмін)

# Запуск
```
node server/app.js

mongod

npm start

http://localhost:4200/ 

```

# MONGO
```
brew update
brew install mongodb
mkdir -p /data/db
Set permissions for the data directory.
mongod
```

# Бази

```
ClientsList = new Mongo.Collection('clients');
CalendarEvents = new Mongo.Collection('calendar');
UserAccounts = new Mongo.Collection('userAccounts');
DoctorsList = new Mongo.Collection('doctors');
```

```
//ClientsList.insert({name: "Petro",surname: "Darii",tel:"0500748190", comment:"Cool Guy" });
//DoctorsList.insert({name: "Petro",surname: "Darii",tel:"0500748190", comment:"Cool Guy" });
```

```
ClientsList.insert({name: clientname,
				surname: clientsurname,
				tel:clientphone, 
				comment:clientcomment,
				clientnum: clientnum,
				clientbirthday: jsdate
			});
```

# Fix id in Meteor DB

/* ЗРОБИ БЕКАП БАЗИ */

```
db.clients.find().forEach( function (x) { 
  	db.clients.remove({_id:x._id},true);
    x._id = ObjectId();
    db.clients.save(x);
});
```
```
db.calendar.find().forEach( function (x) { 
  	db.calendar.remove({_id:x._id},true);
    x._id = ObjectId();
    db.calendar.save(x);
});
```
```
db.doctors.find().forEach( function (x) { 
  	db.doctors.remove({_id:x._id},true);
    x._id = ObjectId();
    db.doctors.save(x);
});
```




<!-- 
db.clients.find().forEach( function (client) { 

  	old_client_id = client._id;

	db.clients.remove({_id:client._id},true);

	new_client_id = ObjectId();

    client._id = new_client_id;
    db.clients.save(client);

	db.calendar.find({ clientid: old_client_id }).forEach( function (calendar) { 
		calendar.clientid = new_client_id;
		db.calendar.save(calendar);
	});

});



db.doctors.find().forEach( function (doctor) { 

	old_doctor_id = doctor._id;
  	db.doctors.remove({_id:old_doctor_id},true);

	new_doctor_id = ObjectId();
    doctor._id = new_doctor_id;
    db.doctors.save(doctor);

	db.calendar.find({ doctor: old_doctor_id }).forEach( function (calendar) { 
		calendar.doctor = new_doctor_id;
		db.calendar.save(calendar);
	});

}); -->


